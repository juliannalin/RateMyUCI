<!DOCTYPE html>
<html lang="en-US">
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <style>
            .fa-star
            {
                color: gray;
            }
            .checked 
            {
                color: gold;
            }
            </style>
        <script>
            
            let numStars = 0;
            let className = "";
            let diffLevel = "";
            let result2 = "";
            let comment = "";

            //yes or no function for "want to leave a review"
            function yesOrNo()
            {
                const yesButton = document.getElementById("yes");
                const noButton = document.getElementById("no");
                const result = document.getElementById("result");

                if (yesButton.checked)
                {
                    result.textContent = "Scroll down for questions";
                }
                else if (noButton.checked)
                {
                    result.textContent = "Scroll down to view other reviews, or navigate to the next page";
                }
                else
                {
                    result.textContent = "Please pick an option";
                }
            }
            
            //rating (stars)
            function rate(stars)
            {
                let numStars = stars;

                localStorage.setItem("numStars",numStars);

                for (let i = 1; i <=5; i++)
                {
                    const stars = document.getElementById("stars" + i);
                    if (i <= numStars)
                    {
                        stars.classList.add("checked");
                    }
                    else
                    {
                        stars.classList.remove("checked")
                    }
                }
                //document.getElementById("rating-value", numStars);
                console.log(numStars);
            }
            //class name input function
            function storeUserInput()
            {
                const userInput = document.getElementById("userInput");
                let className = userInput.value
                localStorage.setItem("userClassName",className)
                console.log(className)
            }
            //diff level of the class
            function storeInputDifficulty()
            {
                const inputDiff = document.getElementById("inputDiff");
                let diffLevel = inputDiff.value
                localStorage.setItem("userDifficultyLevel",diffLevel)
                console.log(diffLevel)
            }
        
            //yes or no to the question of whether the user would take the class again
            function yesOrNoClass()
            {
                const yesButton = document.getElementById("yes2");
                const noButton = document.getElementById("no2");
                let result2;
                if (yesButton.checked)
                {
                    result2 = "Yes";
                }
                else if (noButton.checked)
                {
                    result2 = "No";                
                }

                localStorage.setItem("takeClassAgain",result2);
                console.log(result2);
            }
        
            function otherComments()
            {
                const userComment = document.getElementById("userComment");
                let comment = userComment.value;
                localStorage.setItem("otherComments",comment);
                console.log(comment)
            }
        
            function displaySubmission()
            {
                const submissionArea = document.getElementById("submission"); // Correct reference to submission area

                submissionArea.innerHTML = "";

                const submission = document.createElement("div");
                submission.classList.add("submission");
                submission.innerHTML = `
                    <p><strong>Class Name:</strong> ${className}</p>
                    <p><strong>Difficulty Level:</strong> ${diffLevel}</p>
                    <p><strong>Would you take the class again?</strong> ${result2}</p>
                    <p><strong>Other comments:</strong> ${comment}</p>
                    <p><strong>Rating:</strong> ${numStars}</p>
                `;

                submissionArea.appendChild(submission);

                document.getElementById("rating-value").textContent = numStars;
            }
        </script>
        <a href="http://127.0.0.1:3000/prof1review.html"></a>
    </head>
<body>

    <!--yes or no if statement-->
        <h1 style="text-align: center; margin: 20px; padding: 10px;">Shannon Alfaro</h1>
    
    <label for="yes_no_radio">Want to leave a review?</label>
    <p>
        <input type="radio" id="yes" name="yes_no">Yes</input>
    </p>
    <p>
        <input type="radio" id="no" name="yes_no">No</input>
    </p>
    <button onclick="yesOrNo()">Submit</button>
        <p id="result"></p>
    <!--enter photo here-->
    <br /> 
    <!--star rating-->
    <p class="bold-paragraph">
        Enter rating for <b id="bold">Professor Alfaro</b> here (stars):
    </p>
    <div id="rating">
        <button onclick="rate(1)">
            <span class="fa fa-star" id="stars1"></span>
        </button>
        <button onclick="rate(2)">
            <span class="fa fa-star" id="stars2"></span>
        </button>
        <button onclick="rate(3)">
            <span class="fa fa-star" id="stars3"></span>
        </button>
        <button onclick="rate(4)">
            <span class="fa fa-star" id="stars4"></span>
        </button>
        <button onclick="rate(5)">
            <span class="fa fa-star" id="stars5"></span>
        </button>
        <!--<p>Total rating: <span id="rating-value">0</span></p>-->
    </div>
    <br />
    <!--name of class-->
    <label for="userInput">Class name: </label>
    <input type = "text" id="userInput">
    <button onclick="storeUserInput()">Submit</button>
    <p id="displayClassName"></p>
    
    <!--Difficulty level-->
    <label for="inputDiff">Difficulty level of the class:</label>
    <input type="text" id="inputDiff">
    <button onclick="storeInputDifficulty()">Submit</button>
    <p id="displayDiffLevel"></p>

    <!--Take class again?-->
    <label for="yes_no_radio">Would you take the class again?</label>
    <p>
        <input type="radio" id="yes2" name="yes_no">Yes</input>
    </p>
    <p>
        <input type="radio" id="no2" name="yes_no">No</input>
    </p>
    <button onclick="yesOrNoClass()">Submit</button>
    <p id="result2"></p>

    <!--other comments the user might want to add-->
    <label for="userComment">Other comments (or N/A):</label>
    <input type="text" id="userComment">
    <button onclick="otherComments()">Submit</button>
    <p id="commentDisplay"></p>

    <!-- Submit all button -->
    <button onclick="displaySubmission()">Submit All</button>

    <!-- Display all submissions -->
    <div id="submission" style="margin-top: 20px;"></div>
    
</body>
</html>